(this.webpackJsonp2048_react=this.webpackJsonp2048_react||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),s=(a(75),a(76),a(36)),l=a(37),c=a(44),u=a(38),d=a(45),h=a(146),m=a(140),p=a(141),g=a(142),f={root:{flexGrow:1,height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{height:100,width:100,margin:.5,justifyContent:"center",alignItems:"center"},control:{padding:5},score:{paddingRight:400}},v=a(63),E=function(e,t){for(var a=e.filter((function(e){return 0!==e})),n=4-a.length,r=0;r<n;r++)"up"===t?a.push(0):"down"===t&&a.unshift(0);return a},b=function(e,t){if("down"===t){for(var a=3;a>0;a--)if(e[a]===e[a-1]){e[a]=e[a]+e[a-1],e[a-1]=0,console.log(e);break}}else if("up"===t)for(var n=0;n<3;n++)if(e[n]===e[n+1]){e[n]=e[n]+e[n+1],e[n+1]=0,console.log(e);break}},y=function(e){var t=e.length-1,a=e.map((function(a,n){return a.map((function(a,r){return e[t-r][n]}))}));return e.length=0,e.push.apply(e,Object(v.a)(a)),e},w=function(e){for(var t=0;t<4;t++)e[t].includes(2048)&&alert("You win")},S=a(55),C=a.n(S),k=a(56),j=a.n(k).a.initializeApp({apiKey:"AIzaSyCnOala6JYzqBieVQJyusUD2f2BTq0ECas",authDomain:"react-c4056.firebaseapp.com",databaseURL:"https://react-c4056.firebaseio.com",projectId:"react-c4056",storageBucket:"react-c4056.appspot.com",messagingSenderId:"676700030205",appId:"1:676700030205:web:8a4e52e314cd63855dea94",measurementId:"G-RK1KG9ECXP"}),O=(j.database(),j.auth()),I=(j.firestore(),a(151));function U(){try{O.signOut(),alert("Success")}catch(e){alert(e)}}a(94);var x=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:[[0,0,0,0],[0,0,0,0],[0,0,2,0],[0,0,0,0]],score:0},a.addValue=function(){var e=[],t=a.state.data;a.updateScore();for(var n=0;n<4;n++)for(var r=0;r<4;r++)0===a.state.data[n][r]&&e.push({x:n,y:r});if(e.length>0){var o=Math.floor(Math.random()*e.length),i=e[o];t[i.x][i.y]=o>2?2:4,a.setState({data:t})}else 0===e.length&&alert("No more moves");w(a.state.data)&&alert("You win")},a.slideUpDownUpdate=function(e,t){var n=[],r=[];e.forEach((function(e){r=E(e,t),b(r,t),n.push(r)})),console.log(n),a.setState({data:n},(function(){a.addValue()}))},a.slideLeftRightUpdate=function(e,t){var n,r=y(e),o=[],i=[];r.forEach((function(e){i=E(e,t),b(i,t),o.push(i)})),console.log(o),y(o),y(o),n=y(o),a.setState({data:n},(function(){console.log(n),a.addValue()}))},a.updateScore=function(){for(var e=0,t=a.state.data,n=0;n<4;n++)for(var r=0;r<4;r++)e+=t[n][r];a.setState({score:e})},a.handleEvents=function(e){switch(e){case"up":return a.slideUpDownUpdate(a.state.data,"up");case"down":return a.slideUpDownUpdate(a.state.data,"down");case"left":return a.slideLeftRightUpdate(a.state.data,"down");case"right":return a.slideLeftRightUpdate(a.state.data,"up");default:return null}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"isLoggedIn",value:function(){var e=this;O.onAuthStateChanged((function(t){t||e.props.history.push("/")}))}},{key:"componentDidMount",value:function(){this.isLoggedIn()}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement(C.a,{handleKeys:["up","down","left","right"],onKeyEvent:function(t,a){return e.handleEvents(t)}}),r.a.createElement("p",{style:f.header,align:"center"},"2048 Game Smbat Gardilyan"),r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement("p",{align:"right",style:f.score},"Score: ",this.state.score)),r.a.createElement(g.a,null,r.a.createElement("p",{align:"right",style:f.score},r.a.createElement(I.a,{onClick:U},"Sign Out")))),r.a.createElement(m.a,{style:f.root},this.state.data.map((function(e){return r.a.createElement(p.a,null,e.map((function(e){return r.a.createElement(g.a,null,r.a.createElement(h.a,{style:f.paper},r.a.createElement("h1",null,e)))})))}))))}}]),t}(n.Component),D=a(61),P=a(24),A=a(28),L=a(152),W=a(148),q=a(150),B=a(58),M=a.n(B),R=a(149),G=a(6),K=a(147),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loginHandler=function(e,t){!function(e,t,a){if("signIn"===a)try{O.signInWithEmailAndPassword(e,t).then((function(e){console.log(e),alert("Success")})).catch((function(e){console.log(e),alert(e)}))}catch(n){console.log(n.toString())}else try{O.createUserWithEmailAndPassword(e,t).then((function(e){console.log(e),alert("Success")})).catch((function(e){console.log(e),alert(e)}))}catch(n){console.log(n.toString())}}(e,t,a.state.user?"signUp":"signIn")},a.loginModeHandler=function(){a.state.user?a.setState({user:!1}):a.setState({user:!0})},a.state={email:"",password:"",error:"",toDashBoard:!1,user:!1},a.handlePassChange=a.handlePassChange.bind(Object(A.a)(a)),a.handleEmailChange=a.handleEmailChange.bind(Object(A.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(A.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){this.state.email||(this.setState({error:"Email is required"}),alert(this.state.error)),this.state.password||(this.setState({error:"Password is required"}),alert(this.state.error)),this.loginHandler(this.state.email,this.state.password)}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassChange",value:function(e){this.setState({password:e.target.value})}},{key:"isLoggedIn",value:function(){var e=this;O.onAuthStateChanged((function(t){t&&e.props.history.push("/game")}))}},{key:"componentDidMount",value:function(){this.isLoggedIn()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(K.a,{component:"main",maxWidth:"xs"},r.a.createElement(W.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(L.a,{className:e.avatar},r.a.createElement(M.a,null)),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:this.state.email,onChange:this.handleEmailChange}),r.a.createElement(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handlePassChange}),r.a.createElement(I.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleSubmit},this.state.user?"Sign up":"Sign in"),r.a.createElement(I.a,{onClick:this.loginModeHandler},r.a.createElement(R.a,null,"Change to ",this.state.user?"Sign in":"Sign up")))))}}]),t}(n.Component),V=Object(G.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(N);var H=function(){return r.a.createElement(D.a,null,r.a.createElement(P.c,null,r.a.createElement(P.a,{path:"/",component:V}),r.a.createElement(P.a,{path:"/game",component:x})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){e.exports=a(101)},75:function(e,t,a){},76:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.03c785f3.chunk.js.map